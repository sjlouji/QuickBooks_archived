{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/joan/Documents/Louji/Project/QuickBooks/frontend/books/src/Pages/Auth/RegisterPage/RegisterPage.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { register } from '../../../Store/Action/auth';\nimport { withRouter } from 'react-router-dom';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport VisibilityIcon from '@material-ui/icons/Visibility';\nimport VisibilityOffIcon from '@material-ui/icons/VisibilityOff';\nconst email_regex = /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i;\nexport class RegisterPage extends Component {\n  //  Holds all the state variables\n  //  Constructor to bind function with state\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: '',\n      password: '',\n      mobile: '',\n      first_name: '',\n      last_name: '',\n      error: '',\n      hidden: true\n    };\n\n    this.onChange = e => this.setState({\n      [e.target.name]: e.target.value\n    });\n\n    this.handleRegister = this.handleRegister.bind(this);\n    this.handleError = this.handleError.bind(this);\n    this.flushError = this.flushError.bind(this);\n    this.onChange = this.onChange.bind(this);\n    this.handlePasswordToogle = this.handlePasswordToogle.bind(this);\n  } //  Recieves new props. Primarily used for Error Handling\n\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.error !== undefined) {\n      if (nextProps.error.message === 'Network Error') {\n        this.setState({\n          error: nextProps.error.message\n        });\n      } else {\n        this.setState({\n          error: nextProps.error.response.data.error\n        });\n      }\n    }\n  } //  Handles Error\n\n\n  handleError(error) {\n    this.setState({\n      error: error\n    });\n  } // Makes Error null\n\n\n  flushError() {\n    this.setState({\n      error: ''\n    });\n  } //  Handles Login\n\n\n  handleRegister(e) {\n    e.preventDefault();\n\n    if (this.state.first_name === '') {\n      this.handleError('Name can not be Empty');\n    } else if (this.state.last_name === '') {\n      this.handleError('Name can not be Empty');\n    } else if (this.state.email === '') {\n      this.handleError('Email can not be Empty');\n    } else if (!email_regex.test(this.state.email)) {\n      this.handleError('Invalid Email Format');\n    } else if (this.state.mobile === '') {\n      this.handleError('Mobile can not be Empty');\n    } else if (this.state.password === '') {\n      this.handleError('Password can not be Empty');\n    } else {\n      this.flushError();\n      const body = {\n        first_name: this.state.first_name,\n        last_name: this.state.last_name,\n        email: this.state.email,\n        password: this.state.password,\n        mobile: this.state.mobile\n      };\n      this.props.register(body);\n    }\n  } //Handle Password Visibility\n\n\n  handlePasswordToogle() {\n    this.setState({\n      hidden: !this.state.hidden\n    });\n  } //  Hadles change of text in textfield \n\n\n  render() {\n    if (this.props.isAuthenticated) {\n      this.props.history.push('/');\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-wrapper\",\n      id: \"app\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"page-wrapper full-page\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"page-content d-flex align-items-center justify-content-center\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row w-60 mx-0 auth-page\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-8 col-xl-6 mx-auto\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-md-12 pl-md-4\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"auth-form-wrapper px-5 py-5\",\n                      style: this.props.authLoading ? {\n                        opacity: 0.4,\n                        pointerEvents: \"none\"\n                      } : {},\n                      children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                        href: \"#\",\n                        className: \"books-ui-logo d-block mb-2\",\n                        children: [\"Quick\", /*#__PURE__*/_jsxDEV(\"span\", {\n                          children: \"Books\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 93,\n                          columnNumber: 105\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 93,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n                        className: \"text-muted font-weight-normal mb-4\",\n                        children: \"Welcome back! Log in to your account.\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 94,\n                        columnNumber: 49\n                      }, this), this.props.authLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          height: \"100%\",\n                          textAlign: \"center\"\n                        },\n                        children: /*#__PURE__*/_jsxDEV(CircularProgress, {\n                          size: 40,\n                          thickness: 4\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 97,\n                          columnNumber: 57\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 96,\n                        columnNumber: 53\n                      }, this) : \"\", /*#__PURE__*/_jsxDEV(\"form\", {\n                        className: \"forms-sample\",\n                        onSubmit: this.handleRegister,\n                        children: [this.state.error ? /*#__PURE__*/_jsxDEV(\"div\", {\n                          class: \"alert alert-danger\",\n                          role: \"alert\",\n                          children: this.state.error\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 102,\n                          columnNumber: 57\n                        }, this) : \"\", /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"row form-group\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"col-md-6\",\n                            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                              children: \"First Name\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 108,\n                              columnNumber: 61\n                            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                              type: \"text\",\n                              className: \"form-control\",\n                              id: \"first_name\",\n                              name: \"first_name\",\n                              onChange: this.onChange,\n                              value: this.state.first_name,\n                              placeholder: \"First Name\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 109,\n                              columnNumber: 61\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 107,\n                            columnNumber: 57\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"col-md-6\",\n                            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                              children: \"Last Name\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 112,\n                              columnNumber: 61\n                            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                              type: \"text\",\n                              className: \"form-control\",\n                              id: \"last_name\",\n                              name: \"last_name\",\n                              onChange: this.onChange,\n                              value: this.state.last_name,\n                              placeholder: \"Last Name\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 113,\n                              columnNumber: 61\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 111,\n                            columnNumber: 57\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 106,\n                          columnNumber: 53\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"form-group\",\n                          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                            children: \"Email address\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 117,\n                            columnNumber: 57\n                          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                            type: \"text\",\n                            className: \"form-control\",\n                            id: \"email\",\n                            name: \"email\",\n                            onChange: this.onChange,\n                            value: this.state.email,\n                            placeholder: \"Email\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 118,\n                            columnNumber: 57\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 116,\n                          columnNumber: 53\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"form-group\",\n                          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                            children: \"Mobile\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 121,\n                            columnNumber: 57\n                          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                            type: \"text\",\n                            className: \"form-control\",\n                            id: \"mobile\",\n                            name: \"mobile\",\n                            onChange: this.onChange,\n                            value: this.state.mobile,\n                            placeholder: \"Mobile\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 122,\n                            columnNumber: 57\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 120,\n                          columnNumber: 53\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          class: \"form-group\",\n                          style: {\n                            position: 'relative'\n                          },\n                          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                            children: \"Password\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 125,\n                            columnNumber: 57\n                          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                            type: this.state.hidden ? \"password\" : \"text\",\n                            className: \"form-control\",\n                            id: \"password\",\n                            name: \"password\",\n                            onChange: this.onChange,\n                            value: this.state.password,\n                            placeholder: \"Password\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 126,\n                            columnNumber: 57\n                          }, this), this.state.hidden ? /*#__PURE__*/_jsxDEV(VisibilityIcon, {\n                            onClick: this.handlePasswordToogle,\n                            style: {\n                              position: 'absolute',\n                              right: '0',\n                              top: '30px',\n                              padding: '9px 8px',\n                              transition: '0.3s',\n                              fontSize: '36px',\n                              cursor: 'pointer'\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 127,\n                            columnNumber: 76\n                          }, this) : /*#__PURE__*/_jsxDEV(VisibilityOffIcon, {\n                            onClick: this.handlePasswordToogle,\n                            style: {\n                              position: 'absolute',\n                              right: '0',\n                              top: '30px',\n                              padding: '9px 8px',\n                              transition: '0.3s',\n                              fontSize: '36px',\n                              cursor: 'pointer'\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 127,\n                            columnNumber: 265\n                          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                            style: {\n                              color: 'grey',\n                              fontSize: '14px'\n                            },\n                            children: \"Use 8 or more characters with a mix of letters, numbers & symbols\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 128,\n                            columnNumber: 57\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 124,\n                          columnNumber: 53\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"mt-3\",\n                          children: /*#__PURE__*/_jsxDEV(\"input\", {\n                            type: \"submit\",\n                            style: {\n                              float: 'right'\n                            },\n                            className: \"btn btn-primary mr-2 mb-2 mb-md-0\",\n                            value: \"Register\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 131,\n                            columnNumber: 57\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 130,\n                          columnNumber: 53\n                        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                          href: \"/auth/login\",\n                          className: \"d-block mt-3 text-muted\",\n                          children: \"Have an Account? Login\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 133,\n                          columnNumber: 53\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 100,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 92,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 91,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 90,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }, this);\n  }\n\n} //  Map state to props\n\nconst mapStateToProps = state => ({\n  isAuthenticated: state.auth.isAuthenticated,\n  isLoading: state.auth.isLoading,\n  authLoading: state.auth.authLoading,\n  error: state.auth.error\n});\n\nexport default connect(mapStateToProps, {\n  register\n})(withRouter(RegisterPage));","map":{"version":3,"sources":["/Users/joan/Documents/Louji/Project/QuickBooks/frontend/books/src/Pages/Auth/RegisterPage/RegisterPage.js"],"names":["React","Component","connect","register","withRouter","CircularProgress","VisibilityIcon","VisibilityOffIcon","email_regex","RegisterPage","constructor","props","state","email","password","mobile","first_name","last_name","error","hidden","onChange","e","setState","target","name","value","handleRegister","bind","handleError","flushError","handlePasswordToogle","componentWillReceiveProps","nextProps","undefined","message","response","data","preventDefault","test","body","render","isAuthenticated","history","push","authLoading","opacity","pointerEvents","height","textAlign","position","right","top","padding","transition","fontSize","cursor","color","float","mapStateToProps","auth","isLoading"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { register } from '../../../Store/Action/auth';\nimport { withRouter } from 'react-router-dom';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport VisibilityIcon from '@material-ui/icons/Visibility';\nimport VisibilityOffIcon from '@material-ui/icons/VisibilityOff';\n\nconst email_regex = /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i;\n\nexport class RegisterPage extends Component {\n\n    //  Holds all the state variables\n    state = {\n        email: '',\n        password: '',\n        mobile: '',\n        first_name: '',\n        last_name: '',\n        error: '',\n        hidden: true\n    }\n\n    //  Constructor to bind function with state\n    constructor(props) {\n        super(props)\n        this.handleRegister = this.handleRegister.bind(this)\n        this.handleError = this.handleError.bind(this)\n        this.flushError = this.flushError.bind(this)\n        this.onChange = this.onChange.bind(this)\n        this.handlePasswordToogle = this.handlePasswordToogle.bind(this)\n    } \n\n    //  Recieves new props. Primarily used for Error Handling\n    componentWillReceiveProps(nextProps){\n        if(nextProps.error !== undefined){\n            if(nextProps.error.message === 'Network Error'){\n                this.setState({error: nextProps.error.message})\n            }else{\n                this.setState({error: nextProps.error.response.data.error})\n            }\n        }\n    }\n\n    //  Handles Error\n    handleError(error) {\n        this.setState({error: error})\n    }\n\n    // Makes Error null\n    flushError() {\n        this.setState({error: ''})\n    }\n\n    //  Handles Login\n    handleRegister(e){\n        e.preventDefault();\n        if(this.state.first_name === ''){this.handleError('Name can not be Empty')}\n        else if(this.state.last_name === ''){this.handleError('Name can not be Empty')}\n        else if(this.state.email === ''){this.handleError('Email can not be Empty')}\n        else if(!email_regex.test(this.state.email)) {this.handleError('Invalid Email Format')}\n        else if(this.state.mobile === ''){this.handleError('Mobile can not be Empty')}\n        else if(this.state.password === ''){this.handleError('Password can not be Empty')}\n        else{\n            this.flushError()\n            const body = { first_name: this.state.first_name, last_name: this.state.last_name, email: this.state.email, password: this.state.password, mobile: this.state.mobile, }\n            this.props.register(body)\n        }\n    }\n\n    //Handle Password Visibility\n    handlePasswordToogle() {\n        this.setState({ hidden: !this.state.hidden });\n    }\n\n    //  Hadles change of text in textfield \n    onChange = (e) => this.setState({ [e.target.name]: e.target.value });\n\n    render() {\n        if(this.props.isAuthenticated){\n            this.props.history.push('/')\n        }\n        return(\n            <div className=\"main-wrapper\" id=\"app\">\n                <div className=\"page-wrapper full-page\">\n                    <div className=\"page-content d-flex align-items-center justify-content-center\">\n                        <div className=\"row w-60 mx-0 auth-page\">\n                            <div className=\"col-md-8 col-xl-6 mx-auto\">\n                                <div className=\"card\">\n                                    <div className=\"row\">\n                                        <div className=\"col-md-12 pl-md-4\">\n                                            <div className=\"auth-form-wrapper px-5 py-5\" style={this.props.authLoading?{opacity: 0.4, pointerEvents: \"none\"}:{}}>\n                                                <a href=\"#\" className=\"books-ui-logo d-block mb-2\">Quick<span>Books</span></a>\n                                                <h5 className=\"text-muted font-weight-normal mb-4\">Welcome back! Log in to your account.</h5>\n                                                {this.props.authLoading?\n                                                    <div style={{height: \"100%\", textAlign: \"center\"}}>\n                                                        <CircularProgress size={40} thickness={4}/>\n                                                    </div>\n                                                :\"\"}\n                                                <form className=\"forms-sample\" onSubmit={this.handleRegister}>\n                                                    {this.state.error?\n                                                        <div class=\"alert alert-danger\" role=\"alert\">\n                                                            {this.state.error}\n                                                        </div>\n                                                    :\"\"}\n                                                    <div className=\"row form-group\">\n                                                        <div className=\"col-md-6\">\n                                                            <label>First Name</label>\n                                                            <input type=\"text\" className=\"form-control\" id=\"first_name\" name=\"first_name\" onChange={this.onChange} value={this.state.first_name} placeholder=\"First Name\"/>    \n                                                        </div>\n                                                        <div className=\"col-md-6\">\n                                                            <label>Last Name</label>\n                                                            <input type=\"text\" className=\"form-control\" id=\"last_name\" name=\"last_name\" onChange={this.onChange} value={this.state.last_name} placeholder=\"Last Name\"/>\n                                                        </div>\n                                                    </div>\n                                                    <div className=\"form-group\">\n                                                        <label>Email address</label>\n                                                        <input type=\"text\" className=\"form-control\" id=\"email\" name=\"email\" onChange={this.onChange} value={this.state.email} placeholder=\"Email\"/>\n                                                    </div>\n                                                    <div className=\"form-group\">\n                                                        <label>Mobile</label>\n                                                        <input type=\"text\" className=\"form-control\" id=\"mobile\" name=\"mobile\" onChange={this.onChange} value={this.state.mobile} placeholder=\"Mobile\"/>\n                                                    </div>\n                                                    <div class=\"form-group\" style={{ position: 'relative' }}>\n                                                        <label>Password</label>\n                                                        <input type={this.state.hidden?\"password\":\"text\"} className=\"form-control\" id=\"password\" name=\"password\" onChange={this.onChange} value={this.state.password} placeholder=\"Password\"/>\n                                                        {this.state.hidden?<VisibilityIcon onClick={this.handlePasswordToogle} style={{ position: 'absolute', right: '0', top: '30px', padding: '9px 8px', transition: '0.3s', fontSize: '36px', cursor: 'pointer' }}/>:<VisibilityOffIcon onClick={this.handlePasswordToogle} style={{ position: 'absolute', right: '0', top: '30px', padding: '9px 8px', transition: '0.3s', fontSize: '36px', cursor: 'pointer' }}/>}\n                                                        <span style={{ color: 'grey', fontSize: '14px'}}>Use 8 or more characters with a mix of letters, numbers & symbols</span>\n                                                    </div>\n                                                    <div className=\"mt-3\">\n                                                        <input type=\"submit\" style={{ float: 'right' }} className=\"btn btn-primary mr-2 mb-2 mb-md-0\" value=\"Register\"/>\n                                                    </div>\n                                                    <a href=\"/auth/login\" className=\"d-block mt-3 text-muted\">Have an Account? Login</a>\n                                                </form>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>        \n                    </div>\n                </div>\n          </div>\n        );\n    }\n}\n\n//  Map state to props\nconst mapStateToProps = (state) => ({\n    isAuthenticated: state.auth.isAuthenticated,\n    isLoading: state.auth.isLoading,\n    authLoading: state.auth.authLoading,\n    error: state.auth.error\n  });\n  \n\nexport default connect(mapStateToProps, {register})(withRouter(RegisterPage));"]},"metadata":{},"sourceType":"module"}